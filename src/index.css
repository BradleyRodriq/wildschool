@tailwind base;
@tailwind components;
@tailwind utilities;

/* Skip link: visible on focus for keyboard users */
/* Safe area for notched / home-indicator devices */
@supports (padding: env(safe-area-inset-bottom)) {
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Main content: always clear the fixed navbar (4rem = 64px) + optional safe area */
.main-below-nav {
  padding-top: 4rem;
}
@supports (padding: env(safe-area-inset-top)) {
  .main-below-nav {
    padding-top: calc(4rem + env(safe-area-inset-top));
  }
}

@layer base {
  html {
    scroll-behavior: smooth;
    -webkit-tap-highlight-color: transparent;
  }

  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }
  }

  body {
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    @apply bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100;
    font-size: 1rem;
    line-height: 1.6;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Poppins', system-ui, sans-serif;
    line-height: 1.25;
  }

  a:focus-visible,
  button:focus-visible,
  [tabindex="0"]:focus-visible {
    @apply outline-none ring-2 ring-primary-500 ring-offset-2 ring-offset-white dark:ring-offset-gray-900;
  }

  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible {
    @apply outline-none;
  }
}

@layer components {
  .btn-primary {
    @apply min-h-[44px] min-w-[44px] inline-flex items-center justify-center bg-primary-600 hover:bg-primary-700 active:bg-primary-800 text-white font-semibold py-3 px-6 rounded-xl transition-colors duration-200 shadow-lg hover:shadow-xl focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 focus-visible:outline-none;
  }

  @media (prefers-reduced-motion: no-preference) {
    .btn-primary:hover {
      transform: scale(1.02);
    }
  }

  .btn-secondary {
    @apply min-h-[44px] min-w-[44px] inline-flex items-center justify-center bg-secondary-600 hover:bg-secondary-700 text-white font-semibold py-3 px-6 rounded-xl transition-colors duration-200 shadow-lg hover:shadow-xl focus-visible:ring-2 focus-visible:ring-secondary-500 focus-visible:ring-offset-2 focus-visible:outline-none;
  }

  @media (prefers-reduced-motion: no-preference) {
    .btn-secondary:hover {
      transform: scale(1.02);
    }
  }

  .btn-outline {
    @apply min-h-[44px] min-w-[44px] inline-flex items-center justify-center border-2 border-primary-600 text-primary-600 hover:bg-primary-600 hover:text-white font-semibold py-3 px-6 rounded-xl transition-colors duration-200 focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 focus-visible:outline-none;
  }

  @media (prefers-reduced-motion: no-preference) {
    .btn-outline:hover {
      transform: scale(1.02);
    }
  }

  .card {
    @apply bg-white dark:bg-gray-800 rounded-xl shadow-lg transition-shadow duration-300;
  }

  @media (prefers-reduced-motion: no-preference) {
    .card:hover {
      @apply shadow-xl -translate-y-0.5;
    }
  }

  .input-field {
    @apply w-full min-h-[44px] px-4 py-3 text-base border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 transition-colors focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none;
  }

  .gradient-bg {
    @apply bg-gradient-to-br from-primary-50 via-white to-secondary-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900;
  }

  .text-gradient {
    @apply bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent;
  }

  .animate-scroll {
    animation: scroll 30s linear infinite;
  }

  @media (prefers-reduced-motion: reduce) {
    .animate-scroll {
      animation: none;
    }
  }

  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }
}
